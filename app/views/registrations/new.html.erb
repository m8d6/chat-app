<div data-controller="modal"></div>
<%= form_with model: @user, url: registration_path, class: "flex flex-col gap-6 p-6 bg-white shadow-lg rounded-lg max-w-md mx-auto" do |f| %>
  <h2 class="text-2xl font-semibold text-gray-800 text-center"><%= t('registration.title') %></h2>

  <% if @user.errors.any? %>
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
      <% @user.errors.full_messages.each do |message| %>
        <div><%= message %></div>
      <% end %>
    </div>
  <% end %>

  <div class="flex flex-col gap-2">
    <%= f.label :email_address, class: "text-sm font-medium text-gray-700" %>
    <%= f.email_field :email_address, class: "border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-teal-500 transition" %>
  </div>

  <div class="flex flex-col gap-2">
    <%= f.label :password, class: "text-sm font-medium text-gray-700" %>
    <%= f.password_field :password, class: "border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-teal-500 transition" %>
  </div>

  <div class="flex flex-col gap-2">
    <%= f.label :password_confirmation, class: "text-sm font-medium text-gray-700" %>
    <%= f.password_field :password_confirmation, class: "border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-teal-500 transition" %>
  </div>

  <div class="flex items-center gap-2">
    <%= f.check_box :terms_and_service, class: "w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500" %>
    <span class="text-sm text-gray-700">
      <%= t('terms_and_services.agreement_text') %>
      <a href="#" id="open-modal" class="text-teal-600 hover:underline"><%= t('terms_and_services.link_text') %></a>
    </span>
  </div>

  <%= f.submit t('registration.submit_button'), class: "rounded-lg py-3 bg-teal-600 text-white font-semibold hover:bg-teal-700 transition duration-300 text-center cursor-pointer" %>
<% end %>

<%= render 'shared/terms_modal' %>
